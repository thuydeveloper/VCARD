document.addEventListener("turbo:load",(function(){(function(){if(!$("#phoneNumber").length)return!1;var e=document.querySelector("#phoneNumber"),n=document.querySelector("#error-msg"),t=document.querySelector("#valid-msg"),o=[Lang.get("js.invalid_number"),Lang.get("js.invalid_country_number"),Lang.get("js.too_short"),Lang.get("js.too_long"),Lang.get("js.invalid_number"),Lang.get("js.invalid_number")],r=window.intlTelInput(e,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,n){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(n){var t=n&&n.country?n.country:"";e(t)}))},utilsScript:"../../public/assets/js/inttel/js/utils.min.js"}),i=function(){e.classList.remove("error"),n.innerHTML="",n.classList.add("d-none"),t.classList.add("d-none")};1==mobileValidation&&e.addEventListener("blur",(function(){if(i(),e.value.trim())if(r.isValidNumber())t.classList.remove("d-none");else{e.classList.add("error");var a=r.getValidationError();n.innerHTML=o[a],n.classList.remove("d-none")}})),e.addEventListener("change",i),e.addEventListener("keyup",i),"undefined"!=typeof phoneNo&&""!==phoneNo&&setTimeout((function(){$("#phoneNumber").trigger("change")}),500),$("#phoneNumber").on("blur keyup change countrychange",(function(){"undefined"!=typeof phoneNo&&""!==phoneNo&&(r.setNumber("+"+phoneNo),phoneNo="");var e=r.selectedCountryData.dialCode;$("#prefix_code").val(e);var n=$(this).val();n=n.replace(/-/g,""),$(this).val(n)}));var a=r.selectedCountryData.dialCode;$("#prefix_code").val(a);var u=$("#phoneNumber").val().replace(/\s/g,"");$("#phoneNumber").val(u),$("#phoneNumber").focus(),$("#phoneNumber").trigger("blur")})(),function(){if(!$("#userCreateForm").length)return!1;1==mobileValidation&&$("#userCreateForm").submit((function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),!1}))}(),function(){if(!$("#userEditForm").length)return!1;1==mobileValidation&&$("#userEditForm").submit((function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),!1}))}(),function(){if(!$("#editForm").length)return!1;1==mobileValidation&&$("#editForm").submit((function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),$("#alternativePhone").focus(),!1}))}(),function(){if(!$("#createSetting").length)return!1;1==mobileValidation&&$("#createSetting").submit((function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),!1}))}(),function(){if(!$("#alternativePhone").length)return!1;var e=document.querySelector("#alternativePhone"),n=document.querySelector("#alter-error-msg"),t=document.querySelector("#alter-valid-msg"),o=[Lang.get("js.invalid_number"),Lang.get("js.invalid_country_number"),Lang.get("js.too_short"),Lang.get("js.too_long"),Lang.get("js.invalid_number")],r=window.intlTelInput(e,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,n){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(n){var t=n&&n.country?n.country:"";e(t)}))},utilsScript:"../../public/assets/js/inttel/js/utils.min.js"}),i=function(){e.classList.remove("error"),n.innerHTML="",n.classList.add("d-none"),t.classList.add("d-none")};1==mobileValidation&&e.addEventListener("blur",(function(){if(i(),e.value.trim())if(r.isValidNumber())t.classList.remove("d-none");else{e.classList.add("error");var a=r.getValidationError();n.innerHTML=o[a],n.classList.remove("d-none")}})),e.addEventListener("change",i),e.addEventListener("keyup",i),"undefined"!=typeof phoneNo&&""!==phoneNo&&setTimeout((function(){$("#alternativePhone").trigger("change")}),500),$("#alternativePhone").on("blur keyup change countrychange",(function(){"undefined"!=typeof phoneNo&&""!==phoneNo&&(r.setNumber("+"+phoneNo),phoneNo="");var e=r.selectedCountryData.dialCode;$("#alternative_prefix_code").val(e);var n=$(this).val();n=n.replace(/-/g,""),$(this).val(n)}));var a=r.selectedCountryData.dialCode;$("#alternative_prefix_code").val(a);var u=$("#alternativePhone").val().replace(/\s/g,"");$("#alternativePhone").val(u),$("#alternativePhone").focus(),$("#alternativePhone").trigger("blur")}()}));